(function(){'use strict';class StartupNationApp{constructor(){this.isLoaded=!1,this.observers=new Map,this.performance={startTime:performance.now(),metrics:new Map},this.init()}async init(){try{this.performance.metrics.set("initStart",performance.now()),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup()}catch(e){console.error("Failed to initialize Startup Nation app:",e),this.handleError(e)}}async setup(){try{this.setupNavigation(),this.setupAnimations(),this.setupForms(),this.setupAccessibility(),this.setupPerformance(),this.setupPWA(),this.isLoaded=!0,this.performance.metrics.set("initComplete",performance.now()),document.dispatchEvent(new CustomEvent("startupNationReady",{detail:{app:this}})),console.log("ðŸš€ Startup Nation app loaded successfully!")}catch(e){console.error("Setup failed:",e),this.handleError(e)}}setupNavigation(){const e=document.querySelector(".navbar"),t=document.querySelectorAll(".nav-link"),n=document.querySelector(".hamburger"),o=document.querySelector(".nav-menu");n&&o&&(n.addEventListener("click",this.toggleMobileMenu.bind(this)),t.forEach(e=>{e.addEventListener("click",()=>{this.closeMobileMenu()})})),t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href"),o=document.querySelector(n);o&&window.scrollTo({top:o.offsetTop-80,behavior:"smooth"})})});const r=this.throttle(()=>{const t=window.pageYOffset;t>100?(e.style.background="rgba(10, 10, 10, 0.98)",e.style.backdropFilter="blur(20px)",e.style.boxShadow="0 0 20px rgba(0, 255, 255, 0.3)"):(e.style.background="rgba(10, 10, 10, 0.95)",e.style.backdropFilter="blur(20px)",e.style.boxShadow="none")},16);window.addEventListener("scroll",r,{passive:!0})}setupAnimations(){const e=new IntersectionObserver((e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),e.target.classList.contains("hero-stats")&&this.animateCounters())})}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".fade-in, .slide-in-left, .slide-in-right, .hero-stats").forEach(e=>{e.observe(e)}),this.addAnimationClasses()}addAnimationClasses(){const e=document.querySelector(".hero-stats"),t=document.querySelector(".about-text"),n=document.querySelector(".about-visual");e&&e.classList.add("fade-in"),t&&t.classList.add("slide-in-left"),n&&n.classList.add("slide-in-right"),document.querySelectorAll(".project-card").forEach((e,t)=>{e.classList.add("fade-in"),e.style.setProperty("--animation-delay",`${100*t}ms`)}),document.querySelectorAll(".feature-item").forEach((e,t)=>{e.classList.add("slide-in-left"),e.style.setProperty("--animation-delay",`${200*t}ms`)})}animateCounters(){document.querySelectorAll('.stat-number[data-target]').forEach(e=>{const t=parseInt(e.dataset.target),n=2e3,o=performance.now();const r=o=>{const r=o-n,i=Math.min(r/n,1),a=1-Math.pow(1-i,3),s=Math.floor(a*t);e.textContent=s,i<1?requestAnimationFrame(r):e.textContent=t};requestAnimationFrame(r)})}setupForms(){const e=document.querySelector(".contact-form form");if(e){const t=e.querySelectorAll("input, select, textarea");t.forEach(e=>{e.addEventListener("blur",()=>this.validateField(e)),e.addEventListener("input",()=>this.clearFieldError(e))}),e.addEventListener("submit",async t=>{t.preventDefault(),this.validateForm(e)&&await this.submitForm(e)})}}validateField(e){const t=e.value.trim(),n=e.name||e.placeholder;let o=!0,r="";e.hasAttribute("required")&&!t&&(o=!1,r=`${n} is required`),"email"===e.type&&t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&(o=!1,r="Please enter a valid email address"),this.updateFieldState(e,o,r),return o}updateFieldState(e,t,n){const o=e.closest(".form-group");t?(e.classList.remove("error"),o.classList.remove("error"),o.querySelector(".error-message")?.remove()):(e.classList.add("error"),o.classList.add("error"),o.querySelector(".error-message")?o.querySelector(".error-message").textContent=n:(e=document.createElement("div"),e.className="error-message",e.textContent=n,o.appendChild(e)))}clearFieldError(e){e.classList.remove("error");const t=e.closest(".form-group");t.classList.remove("error"),t.querySelector(".error-message")?.remove()}validateForm(e){const t=e.querySelectorAll("input[required], select[required], textarea[required]");let n=!0;return t.forEach(e=>{this.validateField(e)||(n=!1)}),n}async submitForm(e){const t=e.querySelector('button[type="submit"]'),n=t.textContent;try{t.disabled=!0,t.textContent="Sending...",await this.simulateApiCall(),this.showNotification("Thank you for your message! We'll get back to you soon.","success"),e.reset()}catch(e){this.showNotification("Sorry, there was an error sending your message. Please try again.","error")}finally{t.disabled=!1,t.textContent=n}}simulateApiCall(){return new Promise(e=>{setTimeout(e,2e3)})}setupAccessibility(){this.createSkipLink(),this.setupKeyboardNavigation(),this.setupFocusManagement(),this.setupARIA(),this.setupScreenReaderSupport()}createSkipLink(){const e=document.createElement("a");e.href="#main-content",e.className="skip-link",e.textContent="Skip to main content",document.body.insertBefore(e,document.body.firstChild)}setupKeyboardNavigation(){document.addEventListener("keydown",e=>{"Escape"===e.key&&this.closeMobileMenu(),"Tab"===e.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")})}setupFocusManagement(){document.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])').forEach(e=>{e.addEventListener("focus",e=>{e.target.style.outline="2px solid var(--neon-cyan)",e.target.style.outlineOffset="2px"}),e.addEventListener("blur",e=>{e.target.style.outline="none"})})}setupARIA(){const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-menu");e&&t&&(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","nav-menu"),e.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("id","nav-menu"),t.setAttribute("aria-label","Main navigation"));const n=document.querySelector(".contact-form form");n&&n.setAttribute("aria-label","Contact form")}setupScreenReaderSupport(){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.id="live-region",document.body.appendChild(e)}setupPerformance(){this.setupLazyLoading(),this.preloadCriticalResources(),this.setupPerformanceMonitoring(),this.registerServiceWorker()}setupLazyLoading(){const e=document.querySelectorAll('img[data-src]');"IntersectionObserver"in window?(new IntersectionObserver((e=>{e.forEach(e=>{e.isIntersecting&&(e.target.src=e.target.dataset.src,e.target.classList.remove("lazy"),e.unobserve(e.target))})})).observe(e)):e.forEach(e=>{e.src=e.dataset.src,e.classList.remove("lazy")})}preloadCriticalResources(){[{href:"styles-cyber.css",as:"style"},{href:"script.js",as:"script"}].forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,document.head.appendChild(t)})}setupPerformanceMonitoring(){this.measureCoreWebVitals(),this.measureCustomMetrics()}measureCoreWebVitals(){"PerformanceObserver"in window&&(new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.performance.metrics.set("LCP",e.startTime)})}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.performance.metrics.set("FID",e.processingStart-e.startTime)})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{let t=0;e.getEntries().forEach(e=>{e.hadRecentInput||(t+=e.value)}),this.performance.metrics.set("CLS",t)}).observe({entryTypes:["layout-shift"]}))}measureCustomMetrics(){window.addEventListener("load",()=>{this.performance.metrics.set("TTI",performance.now()-this.performance.startTime)}),"PerformanceObserver"in window&&new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"first-contentful-paint"===e.name&&this.performance.metrics.set("FCP",e.startTime)})}).observe({entryTypes:["paint"]})}setupPWA(){this.setupInstallPrompt(),this.setupOfflineSupport()}setupInstallPrompt(){let e;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t,this.showInstallButton(e)}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),this.showNotification("App installed successfully!","success")})}showInstallButton(e){const t=document.createElement("button");t.textContent="Install App",t.className="btn btn-primary install-btn",t.style.cssText="position: fixed; bottom: 20px; right: 20px; z-index: 1000;",t.addEventListener("click",async()=>{e&&(e.prompt(),await e.userChoice,t.remove())}),document.body.appendChild(t)}setupOfflineSupport(){window.addEventListener("online",()=>{this.showNotification("You are back online!","success")}),window.addEventListener("offline",()=>{this.showNotification("You are offline. Some features may not be available.","warning")})}async registerServiceWorker(){"serviceWorker"in navigator&&(await navigator.serviceWorker.register("/sw.js"),console.log("Service Worker registered"))}toggleMobileMenu(){const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-menu");e.classList.toggle("active"),t.classList.toggle("active"),e.setAttribute("aria-expanded",t.classList.contains("active")),document.body.style.overflow=t.classList.contains("active")?"hidden":""}closeMobileMenu(){const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-menu");e.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.style.overflow=""}showNotification(e,t=5e3){document.querySelectorAll(".notification").forEach(e=>e.remove());const n=document.createElement("div");n.className=`notification notification-${t}`,n.setAttribute("role","alert"),n.setAttribute("aria-live","polite");const o={success:"âœ“",error:"âœ•",warning:"âš ",info:"â„¹"};n.innerHTML=`<div class="notification-content"><span class="notification-icon" aria-hidden="true">${o[t]||o.info}</span><span class="notification-message">${e}</span><button class="notification-close" aria-label="Close notification">&times;</button></div>`,n.style.cssText=`position: fixed; top: 100px; right: 20px; background: ${this.getNotificationColor(t)}; color: white; padding: 1rem 1.5rem; border-radius: 10px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); z-index: var(--z-toast); transform: translateX(400px); transition: transform 0.3s var(--ease-out); max-width: 400px; font-weight: var(--font-weight-medium);`,document.body.appendChild(n),requestAnimationFrame(()=>{n.style.transform="translateX(0)"});const r=setTimeout(()=>{this.removeNotification(n)},t);n.querySelector(".notification-close").addEventListener("click",()=>{clearTimeout(r),this.removeNotification(n)})}getNotificationColor(e){const t={success:"#00ff41",error:"#ff0080",warning:"#ffff00",info:"#00ffff"};return t[e]||t.info}removeNotification(e){e.style.transform="translateX(400px)",setTimeout(()=>{e.parentNode&&e.remove()},300)}throttle(e,t){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout(()=>n=!1,t))}}debounce(e,t){let n;return function(...o){const r=()=>{clearTimeout(n),e.apply(this,o)};clearTimeout(n),n=setTimeout(r,t)}}handleError(e){console.error("Startup Nation App Error:",e),this.showNotification("Something went wrong. Please refresh the page and try again.","error",1e4),"undefined"!=typeof gtag&&gtag("event","exception",{description:e.message,fatal:!1})}getPerformanceMetrics(){return Object.fromEntries(this.performance.metrics)}}const app=new StartupNationApp;"undefined"!=typeof module&&module.exports&&(module.exports=StartupNationApp),window.addEventListener("error",e=>{console.error("Global error:",e.error),app.handleError(e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),app.handleError(e.reason)}),window.startupNationApp=app;})();